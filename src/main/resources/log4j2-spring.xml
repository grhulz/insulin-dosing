<Configuration monitorInterval="60" packages="space.janiekitty.insulindosing.log4j2">
    <Properties>
        <Property name="log-path">applogs</Property>
    </Properties>
    <Appenders>
        <Console name="Console-Appender" target="SYSTEM_OUT">
            <PatternLayout>
                <pattern>
                    [%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %c{1} - %msg%n
                </pattern>>
            </PatternLayout>
        </Console>
        <RollingFile name="App-File-Appender">
            <FileName>${log-path}/insulin-dosing-log.html</FileName>
            <FilePattern>${log-path}/insulin-dosing-log-%d{yyyy-MM-dd}.html</FilePattern>
            <CustomHTMLLayout>
                <charset>UTF-8</charset>
                <title>Insulin Dosing Info Logs</title>
                <locationInfo>true</locationInfo>
            </CustomHTMLLayout>
            <Policies>
                <TimeBasedTriggeringPolicy interval="1" modulate="true" />
                <SizeBasedTriggeringPolicy size="10 MB" />
            </Policies>
        </RollingFile>
        <RollingFile name="App-File-Appender-Error">
            <FileName>${log-path}/insulin-dosing-error-log.html</FileName>
            <FilePattern>${log-path}/insulin-dosing-error-log-%d{yyyy-MM-dd}.html</FilePattern>
            <CustomHTMLLayout>
                <charset>UTF-8</charset>
                <title>Insulin Dosing Error Logs</title>
                <locationInfo>true</locationInfo>
            </CustomHTMLLayout>
            <Policies>
                <TimeBasedTriggeringPolicy interval="1" modulate="true" />
                <SizeBasedTriggeringPolicy size="10 MB" />
            </Policies>
        </RollingFile>
        <RollingFile name="SpringBoot-File-Appender">
            <FileName>${log-path}/springboot-log.html</FileName>
            <FilePattern>${log-path}/springboot-log-%d{yyyy-MM-dd}.html</FilePattern>
            <CustomHTMLLayout>
                <charset>UTF-8</charset>
                <title>Spring Boot Info Logs</title>
                <locationInfo>true</locationInfo>
            </CustomHTMLLayout>
            <Policies>
                <TimeBasedTriggeringPolicy interval="1" modulate="true" />
                <SizeBasedTriggeringPolicy size="10 MB" />
            </Policies>
        </RollingFile>
        <RollingFile name="SpringBoot-File-Appender-Error">
            <FileName>${log-path}/springboot-error-log.html</FileName>
            <FilePattern>${log-path}/springboot-error-log-%d{yyyy-MM-dd}.html</FilePattern>
            <CustomHTMLLayout>
                <charset>UTF-8</charset>
                <title>Spring Boot Error Logs</title>
                <locationInfo>true</locationInfo>
            </CustomHTMLLayout>
            <Policies>
                <TimeBasedTriggeringPolicy interval="1" modulate="true" />
                <SizeBasedTriggeringPolicy size="10 MB" />
            </Policies>
        </RollingFile>
    </Appenders>
    <Loggers>
        <Logger name="org.springframework.web" level="info" additivity="false">
            <AppenderRef ref="SpringBoot-File-Appender"/>
            <AppenderRef ref="Console-Appender"/>
        </Logger>
        <Logger name="org.springframework.web" level="error" additivity="false">
            <AppenderRef ref="SpringBoot-File-Appender-Error"/>
            <AppenderRef ref="Console-Appender"/>
        </Logger>
        <Logger name="info.insulindosing" level="debug" additivity="false">
            <AppenderRef ref="App-File-Appender"/>
         </Logger>
        <Logger name="info.insulindosing" level="error" additivity="false">
            <AppenderRef ref="App-File-Appender-Error"/>
         </Logger>
        <Root>
            <AppenderRef ref="Console-Appender"/>
        </Root>
    </Loggers>
</Configuration>